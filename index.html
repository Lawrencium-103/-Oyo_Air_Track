<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#2c7a7b">
    <meta name="description"
        content="Oyo State Air Quality & Heat Tracker. Monitoring environmental health for SDG 3, 11, and 13.">

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/1163/1163624.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <title>Oyo Air Quality & Heat Tracker</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <!-- Header / Navbar -->
    <nav class="navbar navbar-dark bg-glass fixed-top p-3">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <span class="navbar-brand mb-0 h1 fw-bold">
                <i class="fas fa-leaf text-success"></i> Oyo<span class="text-light-50">Air</span>Track
            </span>
            <button class="btn btn-sm btn-outline-light rounded-pill" data-bs-toggle="modal" <i
                class="fas fa-bullseye"></i> Impact
            </button>
            <button class="btn btn-sm btn-outline-light rounded-pill ms-2" data-bs-toggle="modal"
                data-bs-target="#aboutModal">
                <i class="fas fa-user-circle"></i> About
            </button>
        </div>
    </nav>

    <!-- Main Map Container -->
    <div id="map"></div>

    <!-- Floating Control Panel -->
    <div id="controls" class="floating-panel">
        <div class="panel-body">
            <label for="lga-select" class="form-label text-muted text-uppercase fw-bold x-small">Monitor
                Location</label>
            <select id="lga-select" class="form-select border-0 shadow-none bg-light mb-2">
                <option value="">Select LGA...</option>
            </select>

            <div class="collapse" id="customLoc">
                <input type="number" id="custom-lat" class="form-control mb-1" placeholder="Lat (e.g 7.37)" />
                <input type="number" id="custom-lng" class="form-control mb-1" placeholder="Lng (e.g 3.94)" />
                <button id="submit-custom" class="btn btn-primary w-100 btn-sm">Check Coords</button>
            </div>

            <div class="text-center mt-2">
                <small class="text-muted" style="font-size: 0.75rem; cursor: pointer;" data-bs-toggle="collapse"
                    data-bs-target="#customLoc">
                    Use Custom Coordinates
                </small>
            </div>

            <div class="mt-3">
                <button id="find-location" class="btn btn-success w-100 btn-sm">
                    <i class="fas fa-crosshairs"></i> Find My Location
                </button>
            </div>

            <div class="mt-2">
                <button id="toggle-boundaries" class="btn btn-outline-info w-100 btn-sm">
                    <i class="fas fa-layer-group"></i> Hide Boundaries
                </button>
            </div>
        </div>
    </div>

    <!-- Impact Modal -->
    <div class="modal fade" id="impactModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content glass-modal">
                <div class="modal-header border-0">
                    <h5 class="modal-title fw-bold">Citizen Science for SDGs</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="impact-item mb-3">
                        <span class="badge bg-success mb-1">SDG 3: Good Health</span>
                        <p class="small text-white-50">Real-time alerts to reduce respiratory illnesses caused by
                            particulate matter.</p>
                    </div>
                    <div class="impact-item mb-3">
                        <span class="badge bg-warning text-dark mb-1">SDG 11: Sustainable Cities</span>
                        <p class="small text-white-50">Data-driven urban planning to identify pollution hotspots in Oyo
                            State.</p>
                    </div>
                    <div class="impact-item">
                        <span class="badge bg-danger mb-1">SDG 13: Climate Action</span>
                        <p class="small text-white-50">Visualizing heat islands to drive local climate resilience
                            strategies.</p>
                    </div>
                </div>
                <div class="modal-footer border-0 justify-content-center">
                    <p class="x-small text-white-50">Built for 0 Naira. Powered by Open Data.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div class="modal fade" id="aboutModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content glass-modal">
                <div class="modal-header border-0">
                    <h5 class="modal-title fw-bold">About the Creator</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body text-white">
                    <div class="text-center mb-4">
                        <div class="mb-2">
                            <i class="fas fa-user-astronaut fa-3x text-success"></i>
                        </div>
                        <h5 class="fw-bold">Lawrence Oladeji</h5>
                        <p class="text-white-50 small mb-0">Data Scientist & SDG Advocate</p>
                        <p class="text-white-50 small">Building AI-Integrated Products for Good</p>
                    </div>

                    <p class="small">
                        I am an SDG advocate passionate about leveraging data and AI to solve real-world problems.
                        This tool was built to democratize air quality data for Oyo State, empowering citizens to take
                        action on Climate Change (SDG 13) and Health (SDG 3).
                    </p>

                    <div class="d-flex justify-content-center gap-3 mt-4">
                        <a href="mailto:oladeji.lawrence@gmail.com" class="btn btn-outline-light btn-sm">
                            <i class="fas fa-envelope"></i> Email
                        </a>
                        <a href="https://wa.me/2349038819790" target="_blank" class="btn btn-outline-success btn-sm">
                            <i class="fab fa-whatsapp"></i> WhatsApp
                        </a>
                    </div>

                    <div class="mt-4 pt-3 border-top border-secondary text-center">
                        <small class="text-white-50 d-block mb-1">Impact Tracking</small>
                        <span class="badge bg-info text-dark">
                            <i class="fas fa-eye"></i> <span id="view-count">Loading...</span> Views
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Location Details Modal -->
    <div class="modal fade" id="locationModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content glass-modal">
                <div class="modal-header border-0">
                    <h5 class="modal-title fw-bold">
                        <i class="fas fa-map-marker-alt text-success"></i> Your Location Details
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="location-info" class="text-white">
                        <!-- Location details will be populated here -->
                    </div>
                </div>
                <div class="modal-footer border-0 justify-content-center">
                    <button id="use-this-location" class="btn btn-success btn-sm">
                        <i class="fas fa-check"></i> Use This Location
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="leaflet-velocity/leaflet-velocity.min.js"></script>
    <script src="oyo-boundaries.js"></script>
    <script src="tracker.js"></script>
</body>

</html>